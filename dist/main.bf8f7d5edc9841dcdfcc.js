!function(){"use strict";var t={1273:function(t,e,n){n(682),n(2526),n(1817),n(2443),n(2401),n(8722),n(2165),n(9007),n(6066),n(3510),n(1840),n(6982),n(2159),n(6649),n(9341),n(543),n(9170),n(2222),n(545),n(6541),n(3290),n(7327),n(9826),n(4553),n(4944),n(6535),n(9554),n(1038),n(6699),n(2772),n(9753),n(6992),n(9600),n(4986),n(1249),n(6572),n(5827),n(6644),n(5069),n(7042),n(5212),n(2707),n(8706),n(561),n(3792),n(9244),n(8264),n(6938),n(9575),n(6716),n(3843),n(8733),n(5735),n(6078),n(3710),n(4812),n(4855),n(8309),n(5837),n(8862),n(3706),n(1532),n(9752),n(2376),n(3181),n(3484),n(2388),n(8621),n(403),n(4755),n(5438),n(332),n(658),n(197),n(4914),n(2420),n(160),n(970),n(2703),n(3689),n(9653),n(3299),n(5192),n(3161),n(4048),n(8285),n(4363),n(5994),n(1874),n(9494),n(6977),n(5147),n(9601),n(8011),n(9595),n(3321),n(9070),n(5500),n(9720),n(3371),n(8559),n(5003),n(9337),n(6210),n(489),n(3304),n(1825),n(8410),n(2200),n(7941),n(4869),n(3952),n(7227),n(514),n(8304),n(1539),n(6833),n(4678),n(1058),n(8674),n(7922),n(4668),n(7727),n(224),n(2419),n(9596),n(2586),n(4819),n(5683),n(9361),n(1037),n(5898),n(7556),n(4361),n(3593),n(9532),n(1299),n(4603),n(4916),n(2087),n(8386),n(7601),n(9714),n(189),n(9841),n(7852),n(4953),n(2023),n(8783),n(4723),n(6373),n(6528),n(3112),n(8992),n(2481),n(5306),n(8757),n(4765),n(3123),n(6755),n(3210),n(8702),n(5674),n(5218),n(4475),n(7929),n(915),n(9253),n(2125),n(8830),n(8734),n(9254),n(7268),n(7397),n(86),n(623),n(4197),n(6495),n(7145),n(5109),n(5125),n(2472),n(9743),n(8255),n(9135),n(2990),n(8927),n(3105),n(5035),n(4345),n(7174),n(2846),n(8145),n(4731),n(7209),n(6319),n(8867),n(7789),n(3739),n(5206),n(9368),n(4483),n(2056),n(3462),n(678),n(7462),n(3824),n(5021),n(2974),n(5016),n(4129),n(8478),n(4747),n(3948),n(4633),n(5844),n(2564),n(285),n(3753),n(1637),n(5666);var r={isPresent:!1,toggleView:function(){var t=document.querySelector("div.alert");t.classList.toggle("hidden"),this.isPresent=!this.isPresent,this.isPresent?t.setAttribute("aria-hidden",!1):t.setAttribute("aria-hidden",!0)},message:function(t){document.querySelector(".message__text").textContent=t}},o=function(t){return document.querySelector(t)},a={editDisplay:function(t){var e=t.image,n=t.location,r=t.phrase,a=t.misc,i=o(".weather__image");i.src="https://openweathermap.org/img/wn/".concat(e.name,"@4x.png"),i.alt=e.alt,o(".weather__city").firstChild.textContent=n.city,o(".weather__country").textContent=n.country,o(".weather__temp").textContent=r.temp,o(".weather__phrase").textContent=r.desc;var c=document.getElementsByClassName("row__col--2"),u=Object.values(a);c.forEach((function(t,e){t.textContent=u[e]}))}},i=function(t){return t[0].toUpperCase()+t.slice(1)},c={metric:{convertToCelsius:function(t){if("string"==typeof t){for(var e=t.indexOf("°F"),n="",r=0;r<e;++r)n+=t[r];return"".concat(Math.round(((Number(n)-32)*(5/9)).toFixed(2)),"°C")}return"".concat(Math.round(((Number(t)-32)*(5/9)).toFixed(2)),"°C")},convertToKPH:function(t){if("string"==typeof t){for(var e=t.indexOf(" "),n="",r=0;r<e;++r)n+=t[r];return"".concat(Math.round((1.609*Number(n)).toFixed(2))," kph")}return"".concat(Math.round((1.609*Number(t)).toFixed(2))," kph")},convertToMillimeter:function(t){if("string"==typeof t){for(var e=t.indexOf(" "),n="",r=0;r<e;++r)n+=t[r];return"".concat(Number(25.4*n).toFixed(2)," mm")}return"".concat(Number(25.4*t).toFixed(2)," mm")},updateWeatherDisplay:function(){var t=this,e=document.querySelector(".weather__temp"),n=e.textContent;e.textContent=this.convertToCelsius(n),document.getElementsByClassName("row__col--2").forEach((function(e){if(e.textContent.includes("in")){var n=e.textContent;e.textContent=t.convertToMillimeter(n)}else if(e.textContent.includes("°F")){var r=e.textContent;e.textContent=t.convertToCelsius(r)}else if(e.textContent.includes("mph")){var o=e.textContent;e.textContent=t.convertToKPH(o)}}))}},imperial:{convertToFahrenheit:function(t){if("string"==typeof t){for(var e=t.indexOf("°C"),n="",r=0;r<e;++r)n+=t[r];return"".concat(Math.round((1.8*n+32).toFixed(2)),"°F")}return"".concat(Math.round((1.8*t+32).toFixed(2)),"°F")},convertToMPH:function(t){if("string"==typeof t){for(var e=t.indexOf(" "),n="",r=0;r<e;++r)n+=t[r];return"".concat(Math.round((Number(n)/1.609).toFixed(2))," mph")}return"".concat(Math.round((Number(t)/1.609).toFixed(2))," mph")},convertToInch:function(t){if("string"==typeof t){for(var e=t.indexOf(" "),n="",r=0;r<e;++r)n+=t[r];return"".concat(Number(n/25.4).toFixed(2)," in")}return"".concat(Number(t/25.4).toFixed(2)," in")},updateWeatherDisplay:function(){var t=this,e=document.querySelector(".weather__temp"),n=e.textContent;e.textContent=this.convertToFahrenheit(n),document.getElementsByClassName("row__col--2").forEach((function(e){if(e.textContent.includes("mm")){var n=e.textContent;e.textContent=t.convertToInch(n)}else if(e.textContent.includes("°C")){var r=e.textContent;e.textContent=t.convertToFahrenheit(r)}else if(e.textContent.includes("kph")){var o=e.textContent;e.textContent=t.convertToMPH(o)}}))}}};function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){f(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e,n,r,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void n(t)}c.done?e(u):Promise.resolve(u).then(r,o)}function h(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){p(a,r,o,i,c,"next",t)}function c(t){p(a,r,o,i,c,"throw",t)}i(void 0)}))}}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d=function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),f(this,"grabWeatherData",function(){var t=h(regeneratorRuntime.mark((function t(e){var n,o,a,i,c=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=c.length>1&&void 0!==c[1]?c[1]:"imperial",o=null,t.prev=2,r.isPresent&&r.toggleView(),"object"!==l(e)){t.next=11;break}return a=e.latitude,i=e.longitude,t.next=8,fetch("https://api.openweathermap.org/data/2.5/weather?lat=".concat(a,"&lon=").concat(i,"&units=").concat(n,"&appid=9d958a66e735735b56e66b55bba5ada5"),{mode:"cors"});case 8:o=t.sent,t.next=14;break;case 11:return t.next=13,fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&units=").concat(n,"&appid=9d958a66e735735b56e66b55bba5ada5"),{mode:"cors"});case 13:o=t.sent;case 14:t.next=22;break;case 16:return t.prev=16,t.t0=t.catch(2),console.error(t.t0),r.message("The Geolocation service failed."),r.toggleView(),t.abrupt("return");case 22:return t.abrupt("return",o.json());case 23:case"end":return t.stop()}}),t,null,[[2,16]])})));return function(e){return t.apply(this,arguments)}}()),f(this,"showWeather",function(){var t=h(regeneratorRuntime.mark((function t(n){var o,u,l,p,h,f,d,m,v,y,w,b,g;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=null,u=document.querySelector("button.switch"),l="true"===u.getAttribute("aria-checked"),p={temp:null,speed:null,volume:null},t.prev=4,r.isPresent&&r.toggleView(),!l){t.next=15;break}return t.next=9,e.grabWeatherData(n);case 9:o=t.sent,p.temp="°F",p.speed="mph",p.volume="in",t.next=21;break;case 15:return t.next=17,e.grabWeatherData(n,"metric");case 17:o=t.sent,p.temp="°C",p.speed="kph",p.volume="mm";case 21:if(e.data=o,200===o.cod){t.next=27;break}throw h=o.message,f=i(h),f+=".",new Error(f);case 27:t.next=34;break;case 29:return t.prev=29,t.t0=t.catch(4),r.message(t.t0.message),r.toggleView(),t.abrupt("return");case 34:d={type:null,grabData:function(){var t=null,e=null,n=p.volume;switch(l?"mixed"===this.type?(t=c.imperial.convertToInch(o.rain["1h"]),e=c.imperial.convertToInch(o.snow["1h"])):"rain"===this.type?t=c.imperial.convertToInch(o.rain["1h"]):"snow"===this.type&&(e=c.imperial.convertToInch(o.snow["1h"])):"mixed"===this.type?(t="".concat(o.rain["1h"]).concat(n),e="".concat(o.snow["1h"]).concat(n)):"rain"===this.type?t="".concat(o.rain["1h"]).concat(n):"snow"===this.type&&(e="".concat(o.snow["1h"]).concat(n)),this.type){case"rain":return{rain:t,snow:"—"};case"snow":return{rain:"—",snow:e};case"mixed":return{rain:t,snow:e};default:return{rain:"—",snow:"—"}}}},(m=function(t){return{}.propertyIsEnumerable.call(o,t)})("rain")&&m("snow")?d.type="mixed":m("rain")?d.type="rain":m("snow")&&(d.type="snow"),v=o.weather[0].description,y=i(v),w=p.temp,b=p.speed,g={image:{name:o.weather[0].icon,alt:o.weather[0].description},location:{city:o.name,country:", ".concat(o.sys.country)},phrase:{temp:"".concat(Math.round(o.main.temp)).concat(w),desc:" / ".concat(y)},misc:s({feelsLike:"".concat(Math.round(o.main.feels_like)).concat(w),humidity:"".concat(o.main.humidity,"%"),cloudiness:"".concat(o.clouds.all,"%"),windSpeed:"".concat(Math.round(o.wind.speed)," ").concat(b)},d.grabData())},a.editDisplay(g);case 42:case"end":return t.stop()}}),t,null,[[4,29]])})));return function(e){return t.apply(this,arguments)}}()),this.data=null},m=function(){var t=document.querySelector("#geolocation"),e=function(t){var e=t.coords,n={latitude:e.latitude,longitude:e.longitude};(new d).showWeather(n)},n=function(t){var e=t?"The Geolocation service failed. Please enable it in your browser.":"Your browser does not support geolocation.";r.message(e),r.toggleView()};t.addEventListener("click",(function(){r.isPresent&&r.toggleView(),navigator.geolocation?navigator.geolocation.getCurrentPosition(e,(function(){n(!0)})):n(!1)}))},v=function(){var t=document.querySelector("#search-city"),e=document.querySelector(".search__button"),n=function(){var e=t.value;(new d).showWeather(e)};e.addEventListener("click",(function(t){t.preventDefault(),t.stopPropagation(),n()})),t.addEventListener("keydown",(function(t){"Enter"===t.key&&(t.preventDefault(),t.stopPropagation(),n())}))},y=function(){document.querySelector("button.switch").addEventListener("click",(function(t){var e=t.target;"true"===e.getAttribute("aria-checked")?(e.setAttribute("aria-checked","false"),c.metric.updateWeatherDisplay()):(e.setAttribute("aria-checked","true"),c.imperial.updateWeatherDisplay())}),!1)};(function(){window.addEventListener("DOMContentLoaded",(function(){(new d).showWeather("Bat Cave")})),m(),v(),y()})()}},e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}n.m=t,n.x=function(){},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){var t={179:0},e=[[1273,927]],r=function(){},o=function(o,a){for(var i,c,u=a[0],s=a[1],l=a[2],p=a[3],h=0,f=[];h<u.length;h++)c=u[h],n.o(t,c)&&t[c]&&f.push(t[c][0]),t[c]=0;for(i in s)n.o(s,i)&&(n.m[i]=s[i]);for(l&&l(n),o&&o(a);f.length;)f.shift()();return p&&e.push.apply(e,p),r()},a=self.webpackChunkweather_app=self.webpackChunkweather_app||[];function i(){for(var r,o=0;o<e.length;o++){for(var a=e[o],i=!0,c=1;c<a.length;c++){var u=a[c];0!==t[u]&&(i=!1)}i&&(e.splice(o--,1),r=n(n.s=a[0]))}return 0===e.length&&(n.x(),n.x=function(){}),r}a.forEach(o.bind(null,0)),a.push=o.bind(null,a.push.bind(a));var c=n.x;n.x=function(){return n.x=c||function(){},(r=i)()}}(),n.x()}();